[{"/Users/daisyliu/Desktop/search-main/src/index.js":"1","/Users/daisyliu/Desktop/search-main/src/App.js":"2","/Users/daisyliu/Desktop/search-main/src/reportWebVitals.js":"3","/Users/daisyliu/Desktop/search-main/src/components/movies/index.js":"4","/Users/daisyliu/Desktop/search-main/src/components/movie-detail/index.js":"5","/Users/daisyliu/Desktop/search-main/src/components/search-box/index.js":"6","/Users/daisyliu/Desktop/search-main/src/components/movie/index.js":"7"},{"size":500,"mtime":1608221157000,"results":"8","hashOfConfig":"9"},{"size":5166,"mtime":1608248393316,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":1608221157000,"results":"11","hashOfConfig":"9"},{"size":482,"mtime":1608221157000,"results":"12","hashOfConfig":"9"},{"size":2871,"mtime":1608230785086,"results":"13","hashOfConfig":"9"},{"size":853,"mtime":1608225279000,"results":"14","hashOfConfig":"9"},{"size":1046,"mtime":1608253423820,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"16zpdx4",{"filePath":"19","messages":"20","errorCount":0,"warningCount":37,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/daisyliu/Desktop/search-main/src/index.js",[],["32","33"],"/Users/daisyliu/Desktop/search-main/src/App.js",["34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70"],"import React, { useState, useRef, useEffect } from \"react\";\nimport { Pagination, Layout, Menu, Dropdown, Divider } from \"antd\";\n\nimport Search from \"./components/search-box\";\nimport Movies from \"./components/movies\";\nimport MovieDetail from \"./components/movie-detail\";\n\nimport {\n  DesktopOutlined,\n  PieChartOutlined,\n  FileOutlined,\n  TeamOutlined,\n  UserOutlined,\n  DownOutlined\n} from '@ant-design/icons';\n\nimport \"./App.css\";\nimport { render } from \"@testing-library/react\";\n\nconst { Header, Content, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nconst App = function () {\n  const [type, setType] = useState(1); // 1-电影列表；2-电影详情；3-演员详情\n  const [movies, setMovies] = useState([]);\n  const [offset, setOffset] = useState(0);\n  const [total, setTotal] = useState(0);\n  const [collapsed, setCollapsed] = useState(false);\n\n  const clickIndex = useRef(-1);\n  const query = useRef(\"\");\n\n  function handleSearch(value) {\n    query.current = value;\n    searchMovie(value);\n  }\n\n  function handleClickMovie(index) {\n    setType(2);\n    clickIndex.current = index;\n  }\n\n  function handleClickActor(actor) {\n    const url = `http://localhost:3050/crew/${actor}`;\n\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setType(1);\n        setMovies(data.movies);\n\n        setTotal(-1);\n      });\n  }\n\n  function handleMovieDetailBack() {\n    setType(1);\n  }\n\n  function getPopularMovies() {\n    const url = `http://localhost:3050/movies?query=${query.current}&offset=${offset}`;\n\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setMovies(data.items);\n\n        setTotal(data.total);\n      });\n  }\n\n  function searchMovie(query) {\n    setOffset(0);\n\n    const url = `http://localhost:3050/movies?query=${query}&offset=0`;\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setMovies(data.items);\n        setTotal(data.total);\n      });\n  }\n\n  function handlePageChange(current) {\n    setOffset(current - 1);\n\n    const url = `http://localhost:3050/movies?query=${query.current}&offset=${\n      current - 1\n    }`;\n\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setMovies(data.items);\n\n        setTotal(data.total);\n      });\n  }\n\n  useEffect(() => {\n    getPopularMovies();\n  }, []);\n\n  const menu = (\n    <Menu>\n      <Menu.Item>test</Menu.Item>\n    </Menu>\n  );\n \n  return (\n\n      <div className=\"window-margin\">\n\t          <div className=\"window\">\n\n            <aside className=\"sidebar\">\n\t\t\t   <div className=\"top-bar\">\n\t\t\t\t<p className=\"logo\">IMDB</p>\n\t\t\t</div>\n\n\t\t\t<div className=\"search-box\">\n      <Search onSearch={(value) => handleSearch(value)} />\n\t\t\t</div>\n\t\t\t<menu className=\"menu\">\n\t\t\t\t<p className=\"menu-name\">Movie trailers</p>\n\t\t\t\t<ul className=\"no-bullets\">\n\t\t\t\t\t<li className=\"active\">\n\t\t\t\t\t\t<a href=\"#\">Action / Adventure</a>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><a href=\"#\">Latest</a></li>\n\t\t\t\t\t\t\t<li className=\"active\"><a href=\"#\">Popular</a></li>\n\t\t\t\t\t\t\t<li><a href=\"#\">Coming soon</a></li>\n\t\t\t\t\t\t\t<li><a href=\"#\">Staff picks</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><a href=\"#\">Drama </a></li>\n\t\t\t\t\t<li><a href=\"#\">Comedy</a></li>\n\t\t\t\t\t<li><a href=\"#\">Documentaries</a></li>\n\t\t\t\t\t<li><a href=\"#\">Drama</a></li>\n\t\t\t\t\t<li><a href=\"#\">Horror</a></li>\n\t\t\t\t\t<li><a href=\"#\">Sci-Fi  / Fantasy</a></li>\n\t\t\t\t\t<li><a href=\"#\">List A-Z</a></li>\n\t\t\t\t</ul>\n\n\t\t\t\t<div className=\"separator\"></div>\n\n\t\t\t\t<ul className=\"no-bullets\">\n\t\t\t\t\t<li><a href=\"#\">Latest news</a></li>\n\t\t\t\t\t<li><a href=\"#\">Critic reviews</a></li>\n\t\t\t\t\t<li><a href=\"#\">Box office</a></li>\n\t\t\t\t\t<li><a href=\"#\">Top 250</a></li>\n\t\t\t\t</ul>\n\n\t\t\t\t<div className=\"separator\"></div>\n\t\t\t</menu>\n\t\t</aside>\n\n\n\t\t<div className=\"main\" role=\"main\">\n\n\t\t\t<div className=\"top-bar\">\n\n\t\t\t\t<ul class=\"top-menu no-bullets\" >\n\t\t\t\t\t<li class=\"menu-icon trigger-sidebar-toggle\">\n\t\t\t\t\t\t{/* <div class=\"line\"></div>\n\t\t\t\t\t\t<div class=\"line\"></div>\n\t\t\t\t\t\t<div class=\"line\"></div> */}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><a href=\"#\">Headlines</a></li>\n\t\t\t\t\t<li><a href=\"#\">Articles</a></li>\n\t\t\t\t\t<li class=\"active\"><a href=\"#\">Movies & Films</a></li>\n\t\t\t\t\t<li><a href=\"#\">Television</a></li>\n\t\t\t\t\t<li><a href=\"#\">Music</a></li>\n          <li><a href=\"#\">Celebrities</a></li>\n\t\t\t\t</ul>\n\n\t\t\t</div>\n\n\n      <Content>\n\n<div className=\"content\">\n  <div style={{ display: `${type === 1 ? \"block\" : \"none\"}` }}>\n    <Movies\n      movies={movies}\n      onClickItem={(index) => handleClickMovie(index)}\n    />\n  </div>\n\n  <div style={{ display: `${type === 2 ? \"block\" : \"none\"}` }}>\n    {movies && movies.length && clickIndex.current !== -1 && (\n      <MovieDetail\n        movie={movies[clickIndex.current]}\n        onBack={() => handleMovieDetailBack()}\n        onClickActor={(value) => handleClickActor(value)}\n      />\n    )}\n  </div>\n\n  {total !== -1 && (\n    <div className=\"pagination-wrap\">\n      <Pagination\n        current={offset + 1}\n        total={total}\n        showSizeChanger={false}\n        onChange={(current) => handlePageChange(current)}\n      />\n    </div>\n  )}\n</div>\n</Content>\n\n     </div>\n      </div>\n      </div>\n   \n\n  );\n};\n\nexport default App;\n","/Users/daisyliu/Desktop/search-main/src/reportWebVitals.js",[],"/Users/daisyliu/Desktop/search-main/src/components/movies/index.js",[],"/Users/daisyliu/Desktop/search-main/src/components/movie-detail/index.js",[],"/Users/daisyliu/Desktop/search-main/src/components/search-box/index.js",[],"/Users/daisyliu/Desktop/search-main/src/components/movie/index.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":2,"column":36,"nodeType":"77","messageId":"78","endLine":2,"endColumn":44},{"ruleId":"75","severity":1,"message":"79","line":2,"column":46,"nodeType":"77","messageId":"78","endLine":2,"endColumn":53},{"ruleId":"75","severity":1,"message":"80","line":9,"column":3,"nodeType":"77","messageId":"78","endLine":9,"endColumn":18},{"ruleId":"75","severity":1,"message":"81","line":10,"column":3,"nodeType":"77","messageId":"78","endLine":10,"endColumn":19},{"ruleId":"75","severity":1,"message":"82","line":11,"column":3,"nodeType":"77","messageId":"78","endLine":11,"endColumn":15},{"ruleId":"75","severity":1,"message":"83","line":12,"column":3,"nodeType":"77","messageId":"78","endLine":12,"endColumn":15},{"ruleId":"75","severity":1,"message":"84","line":13,"column":3,"nodeType":"77","messageId":"78","endLine":13,"endColumn":15},{"ruleId":"75","severity":1,"message":"85","line":14,"column":3,"nodeType":"77","messageId":"78","endLine":14,"endColumn":15},{"ruleId":"75","severity":1,"message":"86","line":18,"column":10,"nodeType":"77","messageId":"78","endLine":18,"endColumn":16},{"ruleId":"75","severity":1,"message":"87","line":20,"column":9,"nodeType":"77","messageId":"78","endLine":20,"endColumn":15},{"ruleId":"75","severity":1,"message":"88","line":20,"column":26,"nodeType":"77","messageId":"78","endLine":20,"endColumn":31},{"ruleId":"75","severity":1,"message":"89","line":21,"column":9,"nodeType":"77","messageId":"78","endLine":21,"endColumn":16},{"ruleId":"75","severity":1,"message":"90","line":28,"column":10,"nodeType":"77","messageId":"78","endLine":28,"endColumn":19},{"ruleId":"75","severity":1,"message":"91","line":28,"column":21,"nodeType":"77","messageId":"78","endLine":28,"endColumn":33},{"ruleId":"92","severity":1,"message":"93","line":102,"column":6,"nodeType":"94","endLine":102,"endColumn":8,"suggestions":"95"},{"ruleId":"96","severity":1,"message":"97","line":127,"column":7,"nodeType":"98","endLine":127,"endColumn":19},{"ruleId":"96","severity":1,"message":"97","line":129,"column":12,"nodeType":"98","endLine":129,"endColumn":24},{"ruleId":"96","severity":1,"message":"97","line":130,"column":31,"nodeType":"98","endLine":130,"endColumn":43},{"ruleId":"96","severity":1,"message":"97","line":131,"column":12,"nodeType":"98","endLine":131,"endColumn":24},{"ruleId":"96","severity":1,"message":"97","line":132,"column":12,"nodeType":"98","endLine":132,"endColumn":24},{"ruleId":"96","severity":1,"message":"97","line":135,"column":10,"nodeType":"98","endLine":135,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":136,"column":10,"nodeType":"98","endLine":136,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":137,"column":10,"nodeType":"98","endLine":137,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":138,"column":10,"nodeType":"98","endLine":138,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":139,"column":10,"nodeType":"98","endLine":139,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":140,"column":10,"nodeType":"98","endLine":140,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":141,"column":10,"nodeType":"98","endLine":141,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":147,"column":10,"nodeType":"98","endLine":147,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":148,"column":10,"nodeType":"98","endLine":148,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":149,"column":10,"nodeType":"98","endLine":149,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":150,"column":10,"nodeType":"98","endLine":150,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":168,"column":10,"nodeType":"98","endLine":168,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":169,"column":10,"nodeType":"98","endLine":169,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":170,"column":25,"nodeType":"98","endLine":170,"endColumn":37},{"ruleId":"96","severity":1,"message":"97","line":171,"column":10,"nodeType":"98","endLine":171,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":172,"column":10,"nodeType":"98","endLine":172,"endColumn":22},{"ruleId":"96","severity":1,"message":"97","line":173,"column":15,"nodeType":"98","endLine":173,"endColumn":27},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"no-unused-vars","'Dropdown' is defined but never used.","Identifier","unusedVar","'Divider' is defined but never used.","'DesktopOutlined' is defined but never used.","'PieChartOutlined' is defined but never used.","'FileOutlined' is defined but never used.","'TeamOutlined' is defined but never used.","'UserOutlined' is defined but never used.","'DownOutlined' is defined but never used.","'render' is defined but never used.","'Header' is assigned a value but never used.","'Sider' is assigned a value but never used.","'SubMenu' is assigned a value but never used.","'collapsed' is assigned a value but never used.","'setCollapsed' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getPopularMovies'. Either include it or remove the dependency array.","ArrayExpression",["101"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},"Update the dependencies array to be: [getPopularMovies]",{"range":"104","text":"105"},[2329,2331],"[getPopularMovies]"]